{"version":3,"sources":["APIService.js","components/ArticleList.js","components/Form.js","App.js","reportWebVitals.js","components/Login.js","index.js"],"names":["APIService","article_id","body","token","fetch","JSON","stringify","then","resp","json","ArticleList","props","useCookies","articles","map","article","title","description","className","onClick","editbtn","DeleteArticle","id","deletebtn","Form","useState","setTitle","setDescription","useEffect","htmlFor","type","placeholder","value","onChange","e","target","rows","UpdateArticle","updatedInfo","InsertArticle","insertedInfo","App","setArticles","editArticle","setEditArticle","removeToken","history","useHistory","catch","err","console","log","push","new_articles","filter","a","articlenew","new_article","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Login","username","setUsername","password","setPassword","setToken","isLogin","setLogin","loginbtn","LoginUser","RegisterUser","Router","CookiesProvider","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4365013.chunk.js","sourcesContent":["export default class APIService {\r\n    static UpdateArticle(article_id, body, token) {\r\n\r\n        return fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\r\n            'method': 'PUT',\r\n            'headers': {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Token ${token}`\r\n            },\r\n            body: JSON.stringify(body)\r\n        }).then(resp => resp.json())\r\n    }\r\n\r\n    static InsertArticle(body, token) {\r\n        return fetch('http://127.0.0.1:8000/api/articles/', {\r\n            'method': 'POST',\r\n            'headers': {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Token ${token}`\r\n            },\r\n            body: JSON.stringify(body)\r\n        }).then(resp => resp.json())\r\n    }\r\n\r\n    static DeleteArticle(article_id, token){\r\n        return fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\r\n            'method': 'DELETE',\r\n            'headers': {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Token ${token}`\r\n            }\r\n        })\r\n    }\r\n\r\n    static LoginUser(body) {\r\n        return fetch('http://127.0.0.1:8000/auth/', {\r\n            'method': 'POST',\r\n            'headers': {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body)\r\n        }).then(resp => resp.json())\r\n    }\r\n\r\n    static RegisterUser(body) {\r\n        return fetch('http://127.0.0.1:8000/api/users/', {\r\n            'method': 'POST',\r\n            'headers': {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body)\r\n        }).then(resp => resp.json())\r\n    }\r\n}","import React from 'react'\r\nimport APIService from '../APIService'\r\nimport { useCookies } from 'react-cookie'\r\n\r\nfunction ArticleList(props) {\r\n\r\n    const [token] = useCookies(['Token'])\r\n\r\n    const editbtn = (article) => {\r\n        props.editbtn(article)\r\n    }\r\n\r\n    const deletebtn = (article) => {\r\n        APIService.DeleteArticle(article.id, token['Token'])\r\n        .then(() => props.deletebtn(article))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.articles && props.articles.map(article => {\r\n                return (\r\n                    <div key={article.id}>\r\n                        <h2>{article.title}</h2>\r\n                        <p>{article.description}</p>\r\n\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-1\">\r\n                                <button className=\"btn btn-primary\" onClick={() => editbtn(article)}>UPDATE</button>\r\n                            </div>\r\n\r\n                            <div className=\"col\">\r\n                                <button className=\"btn btn-danger\" onClick={() => deletebtn(article)}>DELETE</button>\r\n                            </div>\r\n                        </div>\r\n                        <hr className=\"hrclass\" />\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ArticleList\r\n","import React, { useState, useEffect } from 'react'\r\nimport APIService from '../APIService'\r\nimport { useCookies } from 'react-cookie'\r\n\r\nfunction Form(props) {\r\n\r\n    const [title, setTitle] = useState(props.article.title)\r\n    const [description, setDescription] = useState(props.article.description)\r\n    const [token] = useCookies(['Token'])\r\n\r\n    useEffect(() => {\r\n        setTitle(props.article.title)\r\n        setDescription(props.article.description)\r\n\r\n    }, [props.article])\r\n\r\n    const updateArticle = () => {\r\n        APIService.UpdateArticle(props.article.id, { title, description }, token['Token'])\r\n            .then(resp => props.updatedInfo(resp))\r\n    }\r\n\r\n    const insertArticle = () => {\r\n        APIService.InsertArticle({ title, description }, token['Token'])\r\n            .then(resp => props.insertedInfo(resp))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {props.article ? (\r\n\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"title\" placeholder=\"Please Enter the Title\" value={title} onChange={e => setTitle(e.target.value)} />\r\n                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                    <textarea className=\"form-control\" id=\"description\" rows=\"5\" placeholder=\"Please Enter the Description\" value={description} onChange={e => setDescription(e.target.value)} />\r\n                    <br></br>\r\n\r\n                    {props.article.id ? \r\n                    <button onClick={updateArticle} className=\"btn btn-success\">Update</button> :\r\n                    <button onClick={insertArticle} className=\"btn btn-success\">Insert</button>}\r\n\r\n                </div>\r\n\r\n            ) : null}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport ArticleList from './components/ArticleList';\nimport Form from './components/Form';\nimport { useCookies } from 'react-cookie'\nimport { useHistory } from 'react-router-dom'\n\nfunction App() {\n\n  const [articles, setArticles] = useState([])\n  const [editArticle, setEditArticle] = useState(null)\n  const [token,, removeToken] = useCookies(['Token'])\n  let history = useHistory()\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/api/articles', {\n      'method': 'GET',\n      'headers': {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token['Token']}`\n      }\n    })\n      .then(resp => resp.json())\n      .then(resp => setArticles(resp))\n      .catch(err => console.log(err))\n  }, [token])\n\n  const editbtn = (article) => {\n    setEditArticle(article)\n  }\n\n  const updatedInfo = (articlenew) => {\n    const new_article = articles.map(article => {\n      if (article.id === articlenew.id) {\n        return articlenew;\n      }\n      else {\n        return article;\n      }\n    })\n\n    setArticles(new_article);\n  }\n\n  const insertedInfo = (article) => {\n    const new_articles = [...articles, article]\n    setArticles(new_articles)\n  }\n\n  const articleForm = () => {\n    setEditArticle({ title: '', description: '' })\n  }\n\n  const deletebtn = (article) => {\n    const new_articles = articles.filter(a => {\n      if (a.id === article.id) {\n        return false\n      }\n      else {\n        return true\n      }\n    })\n\n    setArticles(new_articles)\n  }\n\n  const logoutbtn = () => {\n    removeToken(['Token'])\n  }\n\n  useEffect(() => {\n    if (!token['Token']) {\n      history.push('/')\n    }\n  }, [token, history])\n\n  return (\n    <div className=\"App\">\n\n      <div className=\"row\">\n        <div className=\"col\">\n\n          <h2>Django and ReactJs CRUD APP</h2>\n          <br /><br />\n        </div>\n\n        <div className=\"col\">\n          <button onClick={articleForm} className=\"btn btn-primary\">Insert Article</button>\n        </div>\n\n        <div className=\"col\">\n          <button onClick={logoutbtn} className=\"btn btn-primary\">LOGOUT</button>\n        </div>\n\n      </div>\n\n      <ArticleList articles={articles} editbtn={editbtn} deletebtn={deletebtn} />\n\n      {editArticle ? <Form article={editArticle} updatedInfo={updatedInfo} insertedInfo={insertedInfo} /> : null}\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useState, useEffect } from 'react'\r\nimport APIService from '../APIService'\r\nimport { useCookies } from 'react-cookie'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction Login() {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [token, setToken] = useCookies(['Token'])\r\n    const [isLogin, setLogin] = useState(true)\r\n\r\n    let history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if (token['Token']) {\r\n            history.push('/articles')\r\n        }\r\n    }, [token, history])\r\n\r\n    const loginbtn = () => {\r\n        APIService.LoginUser({ username, password })\r\n            .then(resp => {resp.token ? setToken('Token', resp.token) : console.log(\"Invalid Credentials\")})\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const registerbtn = () => {\r\n        APIService.RegisterUser({ username, password })\r\n            .then(() => loginbtn())\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {isLogin ? <h1>Please Login</h1> : <h1>Please Register</h1>}\r\n\r\n            <br /><br />\r\n            <div className=\"mb-3\">\r\n\r\n                <label htmlFor=\"username\" className=\"form-label\">Username</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"username\" placeholder=\"Please Enter Username\" value={username} onChange={e => setUsername(e.target.value)} />\r\n\r\n            </div>\r\n            <div className=\"mb-3\">\r\n\r\n                <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n                <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Please Enter Password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n\r\n            </div>\r\n\r\n            {isLogin ? <button onClick={loginbtn} className=\"btn btn-primary\">Login</button> : <button onClick={registerbtn} className=\"btn btn-primary\">Register</button>}\r\n\r\n            <div className=\"mb-3\">\r\n                <br />\r\n                {isLogin ? <h5>To signup, please <button className=\"btn btn-primary\" onClick={() => setLogin(false)}>Click</button> Here </h5>\r\n                    : <h5>To Login with an existing account, please <button className=\"btn btn-primary\" onClick={() => setLogin(true)}>Click</button> Here </h5>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport Login from './components/Login'\nimport { CookiesProvider } from 'react-cookie'\n\nfunction Router() {\n  return (\n    <CookiesProvider>\n      <BrowserRouter>\n        <Route exact path=\"/\" component={Login} />\n        <Route exact path=\"/articles\" component={App} />\n      </BrowserRouter>\n    </CookiesProvider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}