(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(21),s=n.n(i),a=(n(30),n(25)),o=n(4),l=(n(31),n(22)),u=n(23),j=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"UpdateArticle",value:function(e,t,n){return fetch("http://127.0.0.1:8000/api/articles/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n)},body:JSON.stringify(t)}).then((function(e){return e.json()}))}},{key:"InsertArticle",value:function(e,t){return fetch("http://127.0.0.1:8000/api/articles/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)},body:JSON.stringify(e)}).then((function(e){return e.json()}))}},{key:"DeleteArticle",value:function(e,t){return fetch("http://127.0.0.1:8000/api/articles/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)}})}},{key:"LoginUser",value:function(e){return fetch("http://127.0.0.1:8000/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}},{key:"RegisterUser",value:function(e){return fetch("http://127.0.0.1:8000/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}}]),e}(),b=n(43),d=n(1);var h=function(e){var t=Object(b.a)(["Token"]),n=Object(o.a)(t,1)[0];return Object(d.jsx)("div",{children:e.articles&&e.articles.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsx)("p",{children:t.description}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-1",children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(t){e.editbtn(t)}(t)},children:"UPDATE"})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(t){j.DeleteArticle(t.id,n.Token).then((function(){return e.deletebtn(t)}))}(t)},children:"DELETE"})})]}),Object(d.jsx)("hr",{className:"hrclass"})]},t.id)}))})};var O=function(e){var t=Object(c.useState)(e.article.title),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(e.article.description),a=Object(o.a)(s,2),l=a[0],u=a[1],h=Object(b.a)(["Token"]),O=Object(o.a)(h,1)[0];return Object(c.useEffect)((function(){i(e.article.title),u(e.article.description)}),[e.article]),Object(d.jsx)("div",{children:e.article?Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"title",placeholder:"Please Enter the Title",value:r,onChange:function(e){return i(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{className:"form-control",id:"description",rows:"5",placeholder:"Please Enter the Description",value:l,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("br",{}),e.article.id?Object(d.jsx)("button",{onClick:function(){j.UpdateArticle(e.article.id,{title:r,description:l},O.Token).then((function(t){return e.updatedInfo(t)}))},className:"btn btn-success",children:"Update"}):Object(d.jsx)("button",{onClick:function(){j.InsertArticle({title:r,description:l},O.Token).then((function(t){return e.insertedInfo(t)}))},className:"btn btn-success",children:"Insert"})]}):null})},f=n(2);var p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],u=s[1],j=Object(b.a)(["Token"]),p=Object(o.a)(j,3),m=p[0],x=p[2],v=Object(f.e)();return Object(c.useEffect)((function(){fetch("http://127.0.0.1:8000/api/articles",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(m.Token)}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[m]),Object(c.useEffect)((function(){m.Token||v.push("/")}),[m,v]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("h2",{children:"Django and ReactJs CRUD APP"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{onClick:function(){u({title:"",description:""})},className:"btn btn-primary",children:"Insert Article"})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{onClick:function(){x(["Token"])},className:"btn btn-primary",children:"LOGOUT"})})]}),Object(d.jsx)(h,{articles:n,editbtn:function(e){u(e)},deletebtn:function(e){var t=n.filter((function(t){return t.id!==e.id}));r(t)}}),l?Object(d.jsx)(O,{article:l,updatedInfo:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));r(t)},insertedInfo:function(e){var t=[].concat(Object(a.a)(n),[e]);r(t)}}):null]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))},x=(n(41),n(13));var v=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),s=Object(o.a)(i,2),a=s[0],l=s[1],u=Object(b.a)(["Token"]),h=Object(o.a)(u,2),O=h[0],p=h[1],m=Object(c.useState)(!0),x=Object(o.a)(m,2),v=x[0],k=x[1],T=Object(f.e)();Object(c.useEffect)((function(){O.Token&&T.push("/articles")}),[O,T]);var N=function(){j.LoginUser({username:n,password:a}).then((function(e){e.token?p("Token",e.token):console.log("Invalid Credentials")})).catch((function(e){return console.log(e)}))};return Object(d.jsxs)("div",{className:"App",children:[v?Object(d.jsx)("h1",{children:"Please Login"}):Object(d.jsx)("h1",{children:"Please Register"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Please Enter Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Please Enter Password",value:a,onChange:function(e){return l(e.target.value)}})]}),v?Object(d.jsx)("button",{onClick:N,className:"btn btn-primary",children:"Login"}):Object(d.jsx)("button",{onClick:function(){j.RegisterUser({username:n,password:a}).then((function(){return N()})).catch((function(e){return console.log(e)}))},className:"btn btn-primary",children:"Register"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("br",{}),v?Object(d.jsxs)("h5",{children:["To signup, please ",Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return k(!1)},children:"Click"})," Here "]}):Object(d.jsxs)("h5",{children:["To Login with an existing account, please ",Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return k(!0)},children:"Click"})," Here "]})]})]})},k=n(44);function T(){return Object(d.jsx)(k.a,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(f.a,{exact:!0,path:"/",component:v}),Object(d.jsx)(f.a,{exact:!0,path:"/articles",component:p})]})})}s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),m()}},[[42,1,2]]]);
//# sourceMappingURL=main.c4365013.chunk.js.map